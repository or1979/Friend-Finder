<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Friend Finder</title>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<script src="https://code.jquery.com/jquery.js"></script>


<link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>
<body>
<div class = container>
    <h2>Survey Questions</h2>
    <hr>
    <h3><strong>About You</strong></h3>
    <hr>
    <h4>Name (*)</h4>
    <input type ="text" id = "name" class = "form-control">
    <br>
    <h4>Link to Photo Image (*)</h4>
    <input type ="text" id = "photo" class = "form-control">
    <hr>
    <div class="form-group">
        <h3><strong>Question 1</strong></h3>
        <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
            <select class="form-control" id="question1">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
    </div>
    <div class="form-group">
        <h3><strong>Question 2</strong></h3>
        <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
            <select class="form-control" id="question2">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
    </div>

    <div class="form-group">
        <h3><strong>Question 3</strong></h3>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
            <select class="form-control" id="question3">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 4</strong></h3>
        <h4>You rarely do something just out of sheer curiosity.</h4>
            <select class="form-control" id="question4">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 5</strong></h3>
        <h4>Your favorite season is Fall.</h4>
            <select class="form-control" id="question5">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 6</strong></h3>
        <h4>Lunch is your favorite meal of the day.</h4>
            <select class="form-control" id="question6">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 7</strong></h3>
        <h4>Having coffee in morning is the only way to start the day.</h4>
            <select class="form-control" id="question7">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 8</strong></h3>
        <h4>You enjoy bright colors more than darker colors.</h4>
            <select class="form-control" id="question8">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 9</strong></h3>
        <h4>You love spending time with friends, because it makes you feel more energetic.</h4>
            <select class="form-control" id="question9">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>

    <div class="form-group">
        <h3><strong>Question 10</strong></h3>
        <h4>Early birds are better than night owls.</h4>
            <select class="form-control" id="question10">
              <option>Select an Option</option>  
              <option>1 (Strongly Disagree)</option>
              <option>2</option>
              <option>3 (Neutral)</option>
              <option>4</option>
              <option>5 (Strongly Agree)</option>
            </select>
          </div>
          <hr>
          <button type="button" class="btn btn-info btn-lg btn-block" id= "submitButton" >Submit Responses <i class = "fa fa-angle-double-right"></i></button>
          <br>
    </div>
</div>
    
<div id="modal1" class="modal">
        <div class="modal-content">
            <p>Your closest match is: </p>
            <div class="divider"></div>
            <h4 id="userMatchName"></h4>
            <img id="userMatchImage" class="materialboxed" width="650" src="">
        </div>
        <div class="modal-footer">
            <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
        </div>
    </div>
    
    <script type="text/javascript">
        $(document).ready(function () {
            $("select").material_select();
            $('select').material_select('destroy');  
            $("select[required]").css({
                display: "inline",
                height: 0,
                padding: 0,
                width: 0
            });
            $('.modal').modal({
                dismissible: false, 
                opacity: .5, 
                inDuration: 300, 
                outDuration: 200, 
                startingTop: '4%', 
                endingTop: '10%' 
            });
            
            $("#submitButton").on("click", function (event) {
                event.preventDefault();
                
                var userInput = {
                    name: $('#name').val().trim(),
                    photo: $('#photo').val().trim(),
                    scores: [
                        $('#question1').val().trim(),
                        $('#question2').val().trim(),
                        $('#question3').val().trim(),
                        $('#question4').val().trim(),
                        $('#question5').val().trim(),
                        $('#question6').val().trim(),
                        $('#question7').val().trim(),
                        $('#question8').val().trim(),
                        $('#question9').val().trim(),
                        $('#question10').val().trim()
                    ]
                };
                console.log("User Input: ", userInput);
               
                $.post("/api/friends", userInput)
                    .done(function (data) {
                        $('#userMatchName').html(data.matchName);
                        $("#userMatchImage").attr("src", "./images/" + data.matchImage);
                        $('#modal1').modal('open');
                    });
            });
        });
        </script>
</body>
</html>